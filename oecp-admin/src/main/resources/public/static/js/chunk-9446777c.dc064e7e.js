(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9446777c"],{"1b68":function(e,a,t){},"386d":function(e,a,t){"use strict";var r=t("cb7c"),o=t("83a1"),s=t("5f1b");t("214f")("search",1,(function(e,a,t,n){return[function(t){var r=e(this),o=void 0==t?void 0:t[a];return void 0!==o?o.call(t,r):new RegExp(t)[a](String(r))},function(e){var a=n(t,e,this);if(a.done)return a.value;var l=r(e),i=String(this),d=l.lastIndex;o(d,0)||(l.lastIndex=0);var c=s(l,i);return o(l.lastIndex,d)||(l.lastIndex=d),null===c?-1:c.index}]}))},"7be7":function(e,a,t){"use strict";var r=t("1b68"),o=t.n(r);o.a},"83a1":function(e,a){e.exports=Object.is||function(e,a){return e===a?0!==e||1/e===1/a:e!=e&&a!=a}},b8cb:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"content-container"},[t("div",{staticClass:"search-area"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[t("el-form-item",{attrs:{label:"名称"}},[t("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.searchForm.name,callback:function(a){e.$set(e.searchForm,"name",a)},expression:"searchForm.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"机构地址"}},[t("el-input",{attrs:{placeholder:"机构地址"},model:{value:e.searchForm.address,callback:function(a){e.$set(e.searchForm,"address",a)},expression:"searchForm.address"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSearchSubmit}},[e._v("查询")])],1),e._v(" "),t("el-button",{on:{click:e.clearFilter}},[e._v("清空")]),e._v(" "),t("div",{staticClass:"add-class"},[t("el-button",{attrs:{type:"warning"},on:{click:e.addOrg}},[e._v("+ 增加机构")])],1)],1)],1),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,align:"center",loading:e.tableLoading}},[t("el-table-column",{attrs:{prop:"sort",label:"排序",width:"150"}}),e._v(" "),t("el-table-column",{attrs:{prop:"name",label:"机构名字",width:"200"}}),e._v(" "),t("el-table-column",{attrs:{prop:"grade",label:"机构等级",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"address",label:"联系地址",width:"300"}}),e._v(" "),t("el-table-column",{attrs:{prop:"createDate",label:"创建日期",sortable:"",width:"200",formatter:e.formatter}}),e._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleEdit(a.$index,a.row)}}},[e._v("编辑")]),e._v(" "),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(a.$index,a.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{"current-page":e.searchForm.pageIndex,"page-sizes":[5,10,20,100],"page-size":e.searchForm.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.searchForm.total,"prev-text":"上一页","next-text":"下一页"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),t("el-dialog",{attrs:{name:e.addOrgForm.formName,visible:e.addOrgForm.dialogFormVisible},on:{"update:visible":function(a){return e.$set(e.addOrgForm,"dialogFormVisible",a)}}},[t("el-form",{ref:"addOrgForm",attrs:{model:e.addOrgForm,rules:e.validRules}},[t("el-form-item",{attrs:{label:"机构名称","label-width":e.addOrgForm.formLabelWidth}},[t("div",{staticClass:"save-input-class"},[t("el-input",{ref:"name",model:{value:e.addOrgForm.name,callback:function(a){e.$set(e.addOrgForm,"name",a)},expression:"addOrgForm.name"}})],1)]),e._v(" "),t("el-form-item",{attrs:{label:"机构地址","label-width":e.addOrgForm.formLabelWidth}},[t("div",{staticClass:"save-input-textarea-class"},[t("el-input",{ref:"address",attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:e.addOrgForm.address,callback:function(a){e.$set(e.addOrgForm,"address",a)},expression:"addOrgForm.address"}})],1)]),e._v(" "),t("el-form-item",{attrs:{label:"排序","label-width":e.addOrgForm.formLabelWidth}},[t("div",{staticClass:"save-input-class"},[t("el-input",{model:{value:e.addOrgForm.sort,callback:function(a){e.$set(e.addOrgForm,"sort",a)},expression:"addOrgForm.sort"}})],1)]),e._v(" "),t("el-form-item",{attrs:{label:"机构等级","label-width":e.addOrgForm.formLabelWidth}},[t("div",{staticClass:"save-input-class"},[t("el-input",{model:{value:e.addOrgForm.grade,callback:function(a){e.$set(e.addOrgForm,"grade",a)},expression:"addOrgForm.grade"}})],1)])],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){return e.clearSaveCode()}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.saveCode()}}},[e._v("确 定")])],1)],1)],1)},o=[],s=(t("386d"),t("7f7f"),t("b775"));function n(e){return Object(s["a"])({url:"/oecpOrg/query",method:"get",params:e})}function l(e){return Object(s["a"])({headers:{"Content-Type":"application/x-www-form-urlencoded"},url:"/oecpOrg/save",method:"post",params:e})}function i(e){return Object(s["a"])({url:"/oecpOrg/remove",method:"get",params:{id:e}})}var d=t("ed08"),c={data:function(){var e=function(e,a,t){console.log(a),a.length<1?(console.log(a),t(new Error("请填写信息"))):(console.log(a),t())};return{tableLoading:!0,searchForm:{name:"",address:"",pageIndex:1,pageSize:10,total:0},tableData:[],addOrgForm:{id:"",name:"",address:"",sort:"",grade:"",dialogFormVisible:!1,formLabelWidth:"120px",formName:""},validRules:{name:[{required:!0,trigger:"blur",validator:e}],address:[{required:!0,trigger:"blur",validator:e}]}}},methods:{resetDateFilter:function(){this.$refs.filterTable.clearFilter("date")},clearFilter:function(){this.searchForm.name="",this.searchForm.address=""},formatter:function(e,a){return Object(d["b"])(e.createDate)},filterTag:function(e,a){return a.error_tag===e},filterHandler:function(e,a,t){var r=t["property"];return a[r]===e},handleEdit:function(e,a){console.log(e,a),this.addOrgForm.name=a.name,this.addOrgForm.id=a.id,this.addOrgForm.address=a.address,this.addOrgForm.formName="编辑机构",this.addOrgForm.dialogFormVisible=!0},handleDelete:function(e,a){var t=this;console.log(e,a),i(a.id).then((function(e){e.result?(t.$message.success("删除成功!"),t.search()):t.$message.success("删除失败!")}))},onSearchSubmit:function(){console.log("submit!"),this.search()},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.searchForm.pageSize=e,this.search()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.searchForm.pageIndex=e,this.search()},search:function(){var e=this;console.log(this.tableLoading),this.tableLoading=!0,console.log(this.tableLoading),n(this.searchForm).then((function(a){console.log(a),a.result&&(e.tableData=a.data.dataList,e.searchForm.pageIndex=a.data.pageIndex,e.searchForm.pageSize=a.data.pageSize,e.searchForm.total=a.data.totalCount)})),this.tableLoading=!1,console.log(this.tableLoading)},addOrg:function(){this.addOrgForm.dialogFormVisible=!0,this.addOrgForm.formName="增加机构"},saveCode:function(){var e=this;this.$refs.addOrgForm.validate((function(e){e||console.log("error submit!!")})),l(this.addOrgForm).then((function(a){a.result?(e.$message.success("保存成功"),e.search()):e.$message.error("保存失败")})),this.clearSaveCode()},clearSaveCode:function(){this.addOrgForm={name:"",address:"",dialogFormVisible:!1,formLabelWidth:"120px"}}},mounted:function(){this.search()}},m=c,u=(t("7be7"),t("2877")),g=Object(u["a"])(m,r,o,!1,null,"eacb6566",null);a["default"]=g.exports}}]);