(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c96a12a"],{"386d":function(e,t,a){"use strict";var o=a("cb7c"),n=a("83a1"),r=a("5f1b");a("214f")("search",1,(function(e,t,a,i){return[function(a){var o=e(this),n=void 0==a?void 0:a[t];return void 0!==n?n.call(a,o):new RegExp(a)[t](String(o))},function(e){var t=i(a,e,this);if(t.done)return t.value;var s=o(e),l=String(this),c=s.lastIndex;n(c,0)||(s.lastIndex=0);var d=r(s,l);return n(s.lastIndex,c)||(s.lastIndex=c),null===d?-1:d.index}]}))},5545:function(e,t,a){},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"950e":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-container"},[a("div",{staticClass:"search-area"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[a("div",{staticClass:"add-class"},[a("el-button",{attrs:{type:"warning"},on:{click:e.addCaseInfo}},[e._v("+ 增加案例")])],1)])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,align:"center",loading:e.tableLoading}},[a("el-table-column",{attrs:{type:"index",label:"编号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"案例标题",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"content",label:"案例内容",width:"400"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createDate",label:"创建日期",sortable:"",width:"200",formatter:e.formatter}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.searchForm.pageIndex,"page-sizes":[5,10,20,100],"page-size":e.searchForm.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.searchForm.total,"prev-text":"上一页","next-text":"下一页"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.formName,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addCaseInfoForm",attrs:{model:e.addCaseInfoForm,rules:e.validRules}},[a("el-form-item",{attrs:{label:"案例标题","label-width":e.formLabelWidth}},[a("div",{staticClass:"save-input-class"},[a("el-input",{ref:"title",model:{value:e.addCaseInfoForm.title,callback:function(t){e.$set(e.addCaseInfoForm,"title",t)},expression:"addCaseInfoForm.title"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"案例内容","label-width":e.formLabelWidth}},[a("div",{staticClass:"save-input-textarea-class"},[a("el-input",{ref:"content",attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:e.addCaseInfoForm.content,callback:function(t){e.$set(e.addCaseInfoForm,"content",t)},expression:"addCaseInfoForm.content"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"关联错误码","label-width":e.formLabelWidth}},[a("el-select",{attrs:{filterable:"",placeholder:"请输入错误码"},model:{value:e.addCaseInfoForm.codeId,callback:function(t){e.$set(e.addCaseInfoForm,"codeId",t)},expression:"addCaseInfoForm.codeId"}},e._l(e.errorCodeList,(function(e){return a("el-option",{key:e.codeId,attrs:{label:e.code,value:e.codeId}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.clearSaveCode()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveCode()}}},[e._v("确 定")])],1)],1)],1)},n=[],r=(a("386d"),a("b775"));function i(e){return Object(r["a"])({url:"/oecpCaseInfo/query",method:"get",params:e})}function s(e){return Object(r["a"])({url:"/saveOecpCaseInfo",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/oecpCaseInfo/remove",method:"get",params:{id:e}})}var c=a("eba2"),d=a("ed08"),u={data:function(){var e=function(e,t,a){console.log(t),t.length<1?(console.log(t),a(new Error("请填写信息"))):(console.log(t),a())};return{tableLoading:!0,searchForm:{title:"",content:"",pageIndex:1,pageSize:10,total:0},tableData:[],addCaseInfoForm:{id:"",title:"",content:"",codeId:""},formName:"",dialogFormVisible:!1,formLabelWidth:"120px",validRules:{title:[{required:!0,trigger:"blur",validator:e}],content:[{required:!0,trigger:"blur",validator:e}]},errorCodeList:[]}},methods:{resetDateFilter:function(){this.$refs.filterTable.clearFilter("date")},clearFilter:function(){this.searchForm.title="",this.searchForm.content=""},formatter:function(e,t){return e.createDate?Object(d["d"])(e.createDate):"--"},filterTag:function(e,t){return t.error_tag===e},filterHandler:function(e,t,a){var o=a["property"];return t[o]===e},handleEdit:function(e,t){console.log(e,t),this.addCaseInfoForm.title=t.title,this.addCaseInfoForm.id=t.id,this.addCaseInfoForm.content=t.content,this.addCaseInfoForm.codeId=t.codeId,this.formName="编辑案例",this.dialogFormVisible=!0},handleDelete:function(e,t){var a=this;console.log(e,t),l(t.id).then((function(e){e.result?(a.$message.success("删除成功!"),a.search()):a.$message.success("删除失败!")}))},onSearchSubmit:function(){this.search()},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.searchForm.pageSize=e,this.search()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.searchForm.pageIndex=e,this.search()},search:function(){var e=this;console.log(this.tableLoading),this.tableLoading=!0,console.log(this.tableLoading),i(this.searchForm).then((function(t){console.log(t),t.result&&(e.tableData=t.data.dataList,e.searchForm.pageIndex=t.data.pageIndex,e.searchForm.pageSize=t.data.pageSize,e.searchForm.total=t.data.totalCount)})),this.tableLoading=!1,console.log(this.tableLoading)},addCaseInfo:function(){this.dialogFormVisible=!0,this.formName="增加案例"},saveCode:function(){var e=this;this.addCaseInfoForm.title?this.addCaseInfoForm.content?this.addCaseInfoForm.codeId?(s(this.addCaseInfoForm).then((function(t){t.result?(e.$message.success("保存成功"),e.search()):e.$message.error("保存失败")})),this.clearSaveCode()):this.$message.warning("请选择错误码"):this.$message.warning("请填写案例内容信息"):this.$message.warning("请填写案例标题信息")},clearSaveCode:function(){this.addCaseInfoForm={title:"",content:"",codeId:""},this.dialogFormVisible=!1,this.formLabelWidth="120px"},getErrorCodeList:function(){var e=this;Object(c["a"])({pageIndex:1,pageSize:100}).then((function(t){t.result&&!t.code&&(e.errorCodeList=t.data.dataList)}))}},mounted:function(){this.search(),this.getErrorCodeList()}},f=u,h=(a("f8b7"),a("2877")),m=Object(h["a"])(f,o,n,!1,null,"647ccffd",null);t["default"]=m.exports},eba2:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return l}));var o=a("b775");function n(e){return Object(o["a"])({headers:{"Content-Type":"application/json"},url:"/oecpErrorInfo/save",method:"post",data:e})}function r(e){return Object(o["a"])({url:"/saveOecpErrorInfo",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/getErrorInfoAndCase",method:"get",params:e})}function s(e){return Object(o["a"])({url:"/oecpErrorInfo/remove",method:"get",params:{id:e}})}function l(e){return e||(e=""),Object(o["a"])({url:"/es/searchErrorCode",method:"get",params:{info:e}})}},f8b7:function(e,t,a){"use strict";var o=a("5545"),n=a.n(o);n.a}}]);